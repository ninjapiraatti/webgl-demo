function updateViewportDimensions(){var e=window,t=document,i=t.documentElement,n=t.getElementsByTagName("body")[0],o=e.innerWidth||i.clientWidth||n.clientWidth,r=e.innerHeight||i.clientHeight||n.clientHeight;return{width:o,height:r}}function browserSupportsWebGL(){for(var e=document.querySelector(".webgl"),t=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{t=e.getContext(i[n])}catch(o){}if(t)break}return null!==t}var viewport=updateViewportDimensions();if(browserSupportsWebGL&&null!==document.querySelector(".webgl")&&viewport.width>=1e3){var script=document.createElement("script");script.onload=function(){function e(e){s=e.clientX-c,h=e.clientY-E,m=s/c,g=h/E}function t(e){1==e.touches.length&&(s=e.touches[0].pageX-c,h=e.touches[0].pageY-E,m=s/c,g=h/E)}function n(e){1==e.touches.length&&(s=e.touches[0].pageX-c,h=e.touches[0].pageY-E,m=s/c,g=h/E)}function o(){var e=5e-4*Date.now();r.position.x=w-.03*m,r.position.y=p-.01*g,void 0!==d&&(d.rotation.y=.2*e,d.rotation.x=.01*g),void 0!==l?l.rotation.y=.2*e:d.rotation.z=.2*e,requestAnimationFrame(o),renderer.render(a,r)}var r,a,d,l,s=0,h=0,c=window.innerWidth/2,E=window.innerHeight/2,m=0,g=0;a=new THREE.Scene,r=new THREE.PerspectiveCamera(20,window.innerWidth/window.innerHeight,.1,35),renderer=new THREE.WebGLRenderer({alpha:!0}),renderer.setSize(window.innerWidth,window.innerHeight),renderer.shadowMapEnabled=!0,document.body.appendChild(renderer.domElement),document.querySelector(".webgl").appendChild(renderer.domElement);var u=new THREE.JSONLoader;u.load("dirigible06.js",function(e,t){d=new THREE.Mesh(e,new THREE.MeshFaceMaterial(t)),d.material.materials[0].shading=THREE.FlatShading,d.material.materials[1].shading=THREE.FlatShading,d.doubleSided=!0,d.castShadow=!0,d.receiveShadow=!0,console.log(t),a.add(d);for(var i=0;i<t.length;i++){var n=t[i];n.side=THREE.DoubleSide}}),u.load("dirigible_potkuri.js",function(e,t){l=new THREE.Mesh(e,new THREE.MeshFaceMaterial(t)),l.material.materials[0].shading=THREE.FlatShading,l.material.materials[1].shading=THREE.FlatShading,l.doubleSided=!0,l.castShadow=!0,l.receiveShadow=!0,console.log(t),a.add(l);for(var i=0;i<t.length;i++){var n=t[i];n.side=THREE.DoubleSide}});var w=0,p=1.5,H=20;r.position.x=w,r.position.y=p,r.position.z=H;var v=new THREE.AmbientLight(14540253),T=new THREE.SphereGeometry(.01,1,1);light1=new THREE.PointLight(16777215,2,3,2),light1.add(new THREE.Mesh(T,new THREE.MeshBasicMaterial({color:16711680}))),a.add(light1),light1.position.x=0,light1.position.z=0,light1.position.y=1.4,a.add(v);var R;for(a.fog=new THREE.FogExp2(0,.01),geometry=new THREE.Geometry,sprite=THREE.ImageUtils.loadTexture("/site/assets/images/disc.png"),i=0;i<1e3;i++){var b=new THREE.Vector3;b.x=3*(2*Math.random()-1),b.y=2*Math.random()-1,b.z=4*Math.random()-2-1.5,geometry.vertices.push(b)}material=new THREE.PointCloudMaterial({size:.02,sizeAttenuation:!0,map:sprite,alphaTest:.5,transparent:!0}),material.color.setRGB(.8,.8,.8),R=new THREE.PointCloud(geometry,material),a.add(R),document.addEventListener("mousemove",e,!1),document.addEventListener("touchstart",t,!1),document.addEventListener("touchmove",n,!1),o()},script.src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.min.js",document.body.appendChild(script)}