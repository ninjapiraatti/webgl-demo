function updateViewportDimensions(){var e=window,i=document,n=i.documentElement,t=i.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||t.clientWidth,o=e.innerHeight||n.clientHeight||t.clientHeight;return{width:r,height:o}}function browserSupportsWebGL(){for(var e=document.querySelector(".webgl"),i=null,n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],t=0;t<n.length;++t){try{i=e.getContext(n[t])}catch(r){}if(i)break}return null!==i}var viewport=updateViewportDimensions();if(browserSupportsWebGL&&null!==document.querySelector(".webgl")&&viewport.width>=1e3){var script=document.createElement("script");script.onload=function(){function e(){function e(){d.add(y),c=new THREE.Group,c.add(s),c.add(l),c.add(light1),l.position.y=.25,l.rotation.x=-.1,d.add(c),y.rotation.y=Math.PI/3,c.rotation.y=Math.PI/2}var o=new Image,h=new Image,m=new Image,g=new Image,u=new Image,E=new Image;o.crossOrigin="anonymous",h.crossOrigin="anonymous",m.crossOrigin="anonymous",g.crossOrigin="anonymous",u.crossOrigin="anonymous",E.crossOrigin="anonymous",o.src="build/img/px.jpg",h.src="build/img/nx.jpg",m.src="build/img/py.jpg",g.src="build/img/ny.jpg",u.src="build/img/pz.jpg",E.src="build/img/nz.jpg";var p=[o.src,h.src,m.src,g.src,u.src,E.src],b=THREE.ImageUtils.loadTextureCube(p),v=(new THREE.MeshLambertMaterial({color:41215,envMap:b}),THREE.ShaderLib.cube);v.uniforms.tCube.value=b;var R=new THREE.ShaderMaterial({fragmentShader:v.fragmentShader,vertexShader:v.vertexShader,uniforms:v.uniforms,depthWrite:!1,side:THREE.BackSide}),y=new THREE.Mesh(new THREE.BoxGeometry(30,30,30),R);d=new THREE.Scene,a=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,.1,500),renderer=new THREE.WebGLRenderer({alpha:!0,antialiasing:!0}),renderer.setSize(window.innerWidth-20,window.innerHeight-20),renderer.shadowMapEnabled=!0,document.body.appendChild(renderer.domElement),document.querySelector(".webgl").appendChild(renderer.domElement);var S=new THREE.JSONLoader;S.load("dirigible06.js",function(e,i){s=new THREE.Mesh(e,new THREE.MeshFaceMaterial(i)),s.material.materials[0].shading=THREE.FlatShading,s.material.materials[1].shading=THREE.FlatShading,s.doubleSided=!0,s.castShadow=!0,s.receiveShadow=!0;for(var n=0;n<i.length;n++){var t=i[n];t.side=THREE.DoubleSide}}),S.load("dirigible_potkuri.js",function(e,i){l=new THREE.Mesh(e,new THREE.MeshFaceMaterial(i)),l.material.materials[0].shading=THREE.FlatShading,l.material.materials[1].shading=THREE.FlatShading,l.doubleSided=!0,l.castShadow=!0,l.receiveShadow=!0;for(var n=0;n<i.length;n++){var t=i[n];t.side=THREE.DoubleSide}}),a.position.x=w,a.position.y=H,a.position.z=T;var f=new THREE.HemisphereLight(16776069,14171148,1);new THREE.SphereGeometry(.01,1,1);light1=new THREE.PointLight(16777215,2,4,2),d.add(light1),light1.position.x=0,light1.position.z=0,light1.position.y=1.4,d.add(f);var M;for(d.fog=new THREE.FogExp2(0,.01),geometry=new THREE.Geometry,sprite=THREE.ImageUtils.loadTexture("/site/assets/images/disc.png"),i=0;i<1e3;i++){var x=new THREE.Vector3;x.x=3*(2*Math.random()-1),x.y=2*Math.random()-1,x.z=4*Math.random()-2-1.5,geometry.vertices.push(x)}material=new THREE.PointCloudMaterial({size:.02,sizeAttenuation:!0,map:sprite,alphaTest:.5,transparent:!0}),material.color.setRGB(.8,.8,.8),M=new THREE.PointCloud(geometry,material),d.add(M),document.addEventListener("mousemove",n,!1),document.addEventListener("touchstart",t,!1),document.addEventListener("touchmove",r,!1),setTimeout(function(){e()},1e3)}function n(e){h=e.clientX-g,m=e.clientY-u,E=h/g,p=m/u}function t(e){1==e.touches.length&&(h=e.touches[0].pageX-g,m=e.touches[0].pageY-u,E=h/g,p=m/u)}function r(e){1==e.touches.length&&(h=e.touches[0].pageX-g,m=e.touches[0].pageY-u,E=h/g,p=m/u)}function o(){var e=5e-4*Date.now();a.position.x=w-7*E,a.position.y=H-3*p,a.lookAt(light1.position),void 0!==c&&(c.position.y=Math.sin(.7*e)/8),void 0!==l&&(l.rotation.z=15.6*e),requestAnimationFrame(o),renderer.render(d,a)}var a,d,s,l,c,h=0,m=0,g=window.innerWidth/2,u=window.innerHeight/2,E=0,p=0,w=0,H=1,T=4;e(),o()},script.src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.min.js",document.body.appendChild(script)}